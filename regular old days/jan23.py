Scale.default='major'
r1 >> sawbass([0,[(4,7),4],3,2,1,-1,[(3,[8,9,12]),3],2,1,0,-2,[2,(2,14)],[1,(1,[15,16,18])],0,-1], delay=(0,.5,1.25), chop=PRand([1,2,3,4]), dur=PDur(3,8)*2, lpf = 1200, lpr = linvar([0,2],8))
r2 >> play('-(   x)', dur=1, room=2, mix=(.1,.5), echo=(0,PRand(0,8)/8), decay=1)
r3 >> spark([5.5,4.5,4,0], dur=[1.5,.25,.5,1.75]).stop()
# r4 >> piano([2,-2], dur=[12,24]) + (0,2,4,6,7,12,-7) # (0,2,4,6,7,12,-7)
r4 >> piano([2,-2], dur=Pvar([(PDur(3,8), PDur(5,8)),[12,24]],[578]) ) + Pvar( [PRand([0,2,4,6,7,12,-7]),(0,2,4,6,7,12,-7)],[578] )# (0,2,4,6,7,12,-7)
r4.amplify=var([0,1,1.25,1.5,1],[578,289,144.5,144.5,578])
r5 >> soprano([1, 5], oct=4, dur=[2,14], bits=6, chop=Pvar([[0],[0,64]],[(578*3)/2]), delay=(0,[.25,.5],[.5,.25]), amp=var([0,1],[578*3])) + (0,-7,7)
r6.reset() >> bass([-2, 0], dur=[16],  oct=5).stop()
r7 >> bass([4,2], dur=1, amp=var([0,1],[14,2])).stop() + r6.degree.transform(lambda x: {-2:0, 0:-2}[x])